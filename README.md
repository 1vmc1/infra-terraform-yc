# Лабораторные работы 5–6  
## Terraform + Ansible + Jenkins (CI/CD Pipeline)

## Описание
В рамках лабораторной работы реализована автоматизация полного цикла развертывания инфраструктуры и деплоя с использованием Jenkins, Terraform и Ansible.

В **лабораторной работе 5** был реализован:
- автоматический деплой инфраструктуры (IaC) через Terraform в OpenStack;
- настройка серверов с помощью Ansible;
- запуск процесса из Jenkins pipeline.

В **лабораторной работе 6** существующий pipeline был расширен и объединён в единый CI/CD-процесс:
- добавлен этап сборки проекта;
- все этапы (сборка → инфраструктура → деплой → проверка) объединены в один Jenkins pipeline.

---

## Используемые технологии
- **Jenkins** — оркестрация CI/CD pipeline  
- **Terraform** — создание инфраструктуры (Infrastructure as Code)  
- **Ansible** — конфигурация и деплой ПО  
- **OpenStack** — облачная платформа  
- **Git** — хранение кода и конфигураций  

---

## Структура репозитория

.
├── terraform/ # Terraform-конфигурации инфраструктуры
├── ansible/ # Ansible playbook и inventory
├── app/ # (опционально) код приложения / build-артефакты
├── Jenkinsfile # Jenkins pipeline (Lab 5 / Lab 6)
└── README.md 

---

## Лабораторная работа 5  
### Автоматизация инфраструктуры и конфигурации

В рамках лабораторной работы 5 реализовано:
- создание виртуальной машины в OpenStack с помощью Terraform;
- использование зеркала провайдеров Terraform для обхода ограничений доступа;
- автоматическая настройка серверов через Ansible;
- запуск всего процесса из Jenkins pipeline.

Основные этапы pipeline:
1. Terraform Apply — создание инфраструктуры;
2. Ожидание готовности SSH;
3. Ansible Configure — установка и запуск ПО.

---

## Лабораторная работа 6  
### Единый CI/CD pipeline

Лабораторная работа 6 является логическим развитием лабораторной работы 5.

Pipeline был расширен следующими этапами:
1. **Build** — этап сборки проекта;
2. **Terraform Apply** — создание или обновление инфраструктуры;
3. **Wait for SSH** — ожидание готовности виртуальной машины;
4. **Deploy (Ansible)** — деплой и конфигурация ПО;
5. **Verify** — проверка успешного завершения pipeline.

Таким образом реализован полный автоматизированный CI/CD-процесс «одной кнопкой».

---

## Jenkins Pipeline

Pipeline реализован в одном `Jenkinsfile` и выполняет полный цикл:
Build → Terraform → Wait for SSH → Ansible → Verify

Pipeline является идемпотентным: повторный запуск не приводит к пересозданию ресурсов без необходимости.

---

## Особенности реализации
- Используется отдельный SSH keypair для Jenkins (CI/CD), что соответствует best practices;
- Учтена асинхронная работа cloud-init с ожиданием доступности SSH;
- Terraform используется в режиме Infrastructure as Code;
- Ansible использует динамически формируемый inventory.

---

## Результат
В результате выполнения pipeline:
- инфраструктура автоматически разворачивается в OpenStack;
- серверы настраиваются без ручного вмешательства;
- весь процесс полностью автоматизирован и воспроизводим.

---

## Вывод
В ходе выполнения лабораторных работ был реализован полноценный CI/CD pipeline с использованием современных инструментов автоматизации, что демонстрирует практические навыки работы с IaC и DevOps-подходами.
